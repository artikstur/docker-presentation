# Docker Команды

(команды в файле "команды для презентации.txt" это только для автора)

## Основные команды для работы с контейнерами

- **`docker run hello-world`**  
  Запускает контейнер из образа `hello-world`. Если образ отсутствует локально, Docker скачивает его с Docker Hub.

- **`docker ps`**  
  Показывает список всех запущенных контейнеров.

- **`docker ps -a`**  
  Показывает все контейнеры, включая остановленные.

- **`docker rm <container_id>`**  
  Удаляет контейнер по его ID.

- **`docker images`**  
  Отображает все доступные образы (images).

- **`docker rmi <image_id>`**  
  Удаляет образ по его ID.

## Управление запуском и статусом контейнеров

- **`docker run <image_name> sleep <seconds>`**  
  Запускает контейнер из указанного образа, выполняя команду `sleep` на указанное количество секунд.

- **`docker run -d <image_name> sleep <seconds>`**  
  Запускает контейнер в фоновом режиме, выполняя команду `sleep` и оставляя доступ к консоли.

- **`docker start <container_id>`**  
  Перезапускает ранее остановленный контейнер без создания нового.

- **`docker stop <container_id>`**  
  Останавливает запущенный контейнер.

- **`docker kill <container_id>`**  
  Принудительно завершает процесс контейнера.

- **`docker pause <container_id>`**  
  Приостанавливает выполнение контейнера.

- **`docker unpause <container_id>`**  
  Возобновляет выполнение приостановленного контейнера.

- **`docker run --rm <image_name>`**  
  Запускает контейнер, который автоматически удаляется после остановки.

## Управление контейнерами с тегами и именами

- **`docker run <image_name>:<tag>`**  
  Создает контейнер из образа с определённым тегом. Если тег не указан, используется `latest`.

- **`docker run --name <new_container_name> <image_name> <command>`**  
  Создает контейнер с указанным именем и выполняет переданную команду.

## Работа с логами контейнеров

- **`docker logs <container_id>`**  
  Отображает логи контейнера.

- **`docker logs -f <container_id>`**  
  Отображает логи контейнера в режиме реального времени (обновляются по мере поступления).

## Взаимодействие с контейнером

- **`docker exec -it <container_id> <command>`**  
  Выполняет команду внутри запущенного контейнера. Например, `docker exec -it <container_id> /bin/bash` позволяет открыть оболочку контейнера.

## Просмотр информации и статистики

- **`docker inspect <container_id>`**  
  Отображает детальную информацию о контейнере.

- **`docker stats <container_id>`**  
  Показывает статистику контейнера (память, загрузка процессора, сеть и т. д.).

## Очистка системы

- **`docker system prune -a --volumes`**  
  Удаляет все контейнеры, образы и тома, не используемые в данный момент.

## Работа с портами

- **`docker run -p 8080:80 <container_name>`**  
  Привязывает порт 8080 на хосте к порту 80 в контейнере. Используется для доступа к приложениям в контейнере через хост.

- **`docker run -d --name web nginx`**  
  Запускает контейнер с Nginx в фоновом режиме с именем `web`.

## Настройка среды и переменных

- **`docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:<tag>`**  
  Запускает контейнер MySQL с паролем `my-secret-pw` для пользователя `root`. Замените `<tag>` на нужный тег образа.

## Управление томами (Volumes)

- **`docker volume ls`**  
  Отображает список всех существующих томов.

- **`docker volume create <volume_name>`**  
  Создает новый том.

- **`docker run -d -v <volume_name>:/path/inside/container <image_name>`**  
  Монтирует том `<volume_name>` в указанную директорию внутри контейнера.

## Сетевое взаимодействие контейнеров

- **`docker network create --driver bridge <network_name>`**  
  Создает новую сеть с типом `bridge`.

- **`docker run --net <network_name> <image_name>`**  
  Подключает контейнер к созданной сети `<network_name>`.

## Основные инструкции Dockerfile

- **`FROM <image>`**  
  Устанавливает базовый образ для сборки контейнера.

- **`COPY <source> <destination>`**  
  Копирует файлы или директории с хоста в образ.

- **`RUN <command>`**  
  Выполняет команду в процессе сборки образа.

- **`CMD <command>`**  
  Устанавливает команду по умолчанию для выполнения при запуске контейнера.

- **`EXPOSE <port>`**  
  Открывает порт контейнера для связи с хостом. Только для информации.

- **`ENV <key>=<value>`**  
  Устанавливает переменные окружения для образа.

- **`WORKDIR <path>`**  
  Устанавливает рабочую директорию внутри контейнера.

## Основные команды Docker Compose

- **`docker-compose up`**  
  Запускает все сервисы, определённые в файле `docker-compose.yml`.

- **`docker-compose up -d`**  
  Запускает все сервисы в фоновом режиме.

- **`docker-compose down`**  
  Останавливает и удаляет все контейнеры, определённые в `docker-compose.yml`.

- **`docker-compose build`**  
  Собирает образы для всех сервисов, указанных в `docker-compose.yml`.

- **`docker-compose logs`**  
  Отображает логи всех сервисов, определённых в `docker-compose.yml`.
